<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collection - Inkbase: The Lorcana TCG Tracking App</title>
    <link rel="stylesheet" href="collection_style.css">
</head>
<body>
<script src="collection_script.js"></script>
<div class="app-header">
    <button class="filter-button" id="filterButton">Filter</button>
    <input type="text" class="search-bar" placeholder="Search...">
    <div></div> <!-- Placeholder for spacing -->
</div>
<form class="filter-container" action="" onsubmit="sendSearch();return false;" id="form-page">
    <div class="filter-section">
        <label for="sort-by">Sort by:</label>
        <select id="sort-by" name="sortBy">
            <option value="NAME">Alphabetical</option>
            <option value="COST">Ink Cost</option>
            <option value="STR">Strength</option>
            <option value="WILL">Will Power</option>
            <option value="LORE">Lore</option>
            <option value="CARDNUM">Number</option>
        </select>
    </div>
    
    <div class="filter-section">
        <label>Colors:</label>
        <label><input type="checkbox" name="colors" value="Amber"> Amber (Yellow)</label>
        <label><input type="checkbox" name="colors" value="Steel"> Steel (Silver)</label>
        <label><input type="checkbox" name="colors" value="Sapphire"> Sapphire (Blue)</label>
        <label><input type="checkbox" name="colors" value="Ruby"> Ruby (Red)</label>
        <label><input type="checkbox" name="colors" value="Emerald"> Emerald (Green)</label>
    </div>

    <div class="filter-section">
        <label for="card-text">Card Text:</label>
        <input type="text" id="card-text" placeholder='"rush" or "bodyguard"' name="cardText">
    </div>

    <div class="filter-section">
        <label for="set">Set:</label>
        <select id="set" name="set">
            <option value="None">None</option>
            <option value="TFC">The First Chapter</option>
            <option value="ROTF">Rise of the Floodborn</option>
            <option value="ITI">Into the Inklands</option>
        </select>
    </div>

    <div class="filter-section">
        <label for="rarity">Rarity:</label>
        <select id="rarity" name="rarity">
            <option value="None">None</option>
            <option value="Legendary">Legendary</option>
            <option value="Super Rare">Super Rare</option>
            <option value="Rare">Rare</option>
            <option value="Uncommon">Uncommon</option>
            <option value="Common">Common</option>
        </select>
    </div>

    <div class="filter-section">
        <label for="ink-cost">Ink Cost:</label>
        <input type="text" id="ink-cost" placeholder='"4" or "7"' name="inkCost">
    </div>

    <div class="filter-section" style="display: none;">
        <input type="text" id="card-name" placeholder='' name="cardName" >
    </div>


    
    <script>
        async function sendSearch() {
            var form = document.getElementById("form-page");
            var formData = new FormData(form);
            const queryString = new URLSearchParams(formData).toString();
            //console.log(queryString + " checking query string in filter");
            const response = await fetch("http://127.0.0.1:3000/api/data?" + queryString, {
                method: "GET",
            });
            console.log("get function finised");
            
            console.log((await response.json()));
           // console.log(response[0])

           var list = document.getElementById("displayGrid")
            
        } 
    </script>
    <button class="search-button" type="submit">Search...</button>
</form>

<div id="cardModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <div id="modalCardDetails"></div> <!-- This div will contain the card details -->
    </div>
</div>   

<div class="collection-grid" id="displayGrid">
    <!-- Repeat this block for each card in the 3x3 grid -->
    <div class="card">
        <img class="dynamic-img" data-src="https://images.lorcania.com/cards/tfc/23_en_stitch-716.webp" src="placeholder-image.jpg" alt="Card Image">
    </div>
    <div class="card">
        <img class="dynamic-img" data-src="https://images.lorcania.com/cards/tfc/2_en_ariel-716.webp" src="placeholder-image.jpg" alt="Card Image">
    </div>
    <div class="card">
        <img class="dynamic-img" data-src="https://images.lorcania.com/cards/iti/2_en_bernard-716.webp" src="placeholder-image.jpg" alt="Card Image">
    </div>
    <div class="card"> 
        <img class="dynamic-img" data-src="https://images.lorcania.com/cards/iti/111_en_kakamora-716.webp" src="placeholder-image.jpg" alt="Card Image">       
    </div>
    <div class="card">
        <img class="dynamic-img" data-src="https://images.lorcania.com/cards/iti/143_en_gramma_tala-716.webp" src="placeholder-image.jpg" alt="Card Image">
    </div>
    <div class="card">
        <img class="dynamic-img" data-src="https://images.lorcania.com/cards/rotf/96_en_bibbidi_bobbidi_boo-716.webp" src="placeholder-image.jpg" alt="Card Image">
    </div>
    <div class="card">
        <img class="dynamic-img" data-src="https://images.lorcania.com/cards/rotf/117_en_mulan-716.webp" src="placeholder-image.jpg" alt="Card Image">
    </div>
    <div class="card"> 
        <img class="dynamic-img" data-src="https://images.lorcania.com/cards/tfc/20_en_simba-716.webp" src="placeholder-image.jpg" alt="Card Image">       
    </div>
    <div class="card">
        <img class="dynamic-img" data-src="https://images.lorcania.com/cards/iti/197_en_olympus_would_be_that_way-716.webp" src="placeholder-image.jpg" alt="Card Image">
    </div>
</div>

<div class="nav-bar">
    <div class="nav-item">
        <div class="nav-icon home-icon"></div>
        Home
    </div>
    <div class="nav-item">
        <div class="nav-icon search-icon"></div>
        Search
    </div>
    <div class="nav-item">
        <div class="nav-icon collection-icon"></div>
        Collection
    </div>
    <div class="nav-item">
        <div class="nav-icon decks-icon"></div>
        Decks
    </div>
    <div class="nav-item">
        <div class="nav-icon scan-icon"></div>
        Scan
    </div>
</div>

</body>
</html>